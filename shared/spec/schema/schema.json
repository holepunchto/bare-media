{
  "version": 3,
  "schema": [
    {
      "name": "dimensions",
      "namespace": "media",
      "compact": false,
      "flagsPosition": -1,
      "fields": [
        {
          "name": "width",
          "required": true,
          "type": "uint",
          "version": 1
        },
        {
          "name": "height",
          "required": true,
          "type": "uint",
          "version": 1
        }
      ]
    },
    {
      "name": "metadata",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "mimetype",
          "type": "string",
          "version": 1
        },
        {
          "name": "dimensions",
          "type": "@media/dimensions",
          "version": 1
        },
        {
          "name": "duration",
          "type": "uint",
          "version": 1
        }
      ]
    },
    {
      "name": "file",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "metadata",
          "type": "@media/metadata",
          "version": 1
        },
        {
          "name": "inlined",
          "type": "string",
          "version": 1
        },
        {
          "name": "buffer",
          "type": "buffer",
          "version": 1
        }
      ]
    },
    {
      "name": "create-preview-request",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "path",
          "type": "string",
          "version": 1
        },
        {
          "name": "httpLink",
          "type": "string",
          "version": 1
        },
        {
          "name": "buffer",
          "type": "buffer",
          "version": 1
        },
        {
          "name": "mimetype",
          "type": "string",
          "version": 1
        },
        {
          "name": "maxWidth",
          "type": "uint",
          "version": 1
        },
        {
          "name": "maxHeight",
          "type": "uint",
          "version": 1
        },
        {
          "name": "maxFrames",
          "type": "uint",
          "version": 1
        },
        {
          "name": "maxBytes",
          "type": "uint",
          "version": 1
        },
        {
          "name": "format",
          "type": "string",
          "version": 1
        },
        {
          "name": "encoding",
          "type": "string",
          "version": 1
        }
      ]
    },
    {
      "name": "create-preview-response",
      "namespace": "media",
      "compact": false,
      "flagsPosition": -1,
      "fields": [
        {
          "name": "metadata",
          "required": true,
          "type": "@media/metadata",
          "version": 1
        },
        {
          "name": "preview",
          "required": true,
          "type": "@media/file",
          "version": 1
        }
      ]
    },
    {
      "name": "decode-image-request",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "path",
          "type": "string",
          "version": 1
        },
        {
          "name": "httpLink",
          "type": "string",
          "version": 1
        },
        {
          "name": "buffer",
          "type": "buffer",
          "version": 1
        },
        {
          "name": "mimetype",
          "type": "string",
          "version": 1
        }
      ]
    },
    {
      "name": "decode-image-response",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "metadata",
          "type": "@media/metadata",
          "version": 1
        },
        {
          "name": "data",
          "type": "buffer",
          "version": 1
        }
      ]
    },
    {
      "name": "crop-image-request",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "path",
          "type": "string",
          "version": 2
        },
        {
          "name": "httpLink",
          "type": "string",
          "version": 2
        },
        {
          "name": "buffer",
          "type": "buffer",
          "version": 2
        },
        {
          "name": "mimetype",
          "type": "string",
          "version": 2
        },
        {
          "name": "left",
          "type": "uint",
          "version": 2
        },
        {
          "name": "top",
          "type": "uint",
          "version": 2
        },
        {
          "name": "width",
          "type": "uint",
          "version": 2
        },
        {
          "name": "height",
          "type": "uint",
          "version": 2
        },
        {
          "name": "format",
          "type": "string",
          "version": 2
        }
      ]
    },
    {
      "name": "crop-image-response",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "metadata",
          "type": "@media/metadata",
          "version": 2
        },
        {
          "name": "data",
          "type": "buffer",
          "version": 2
        }
      ]
    },
    {
      "name": "create-video-preview-request",
      "namespace": "media",
      "compact": false,
      "flagsPosition": 0,
      "fields": [
        {
          "name": "path",
          "type": "string",
          "version": 3
        },
        {
          "name": "httpLink",
          "type": "string",
          "version": 3
        },
        {
          "name": "buffer",
          "type": "buffer",
          "version": 3
        },
        {
          "name": "mimetype",
          "type": "string",
          "version": 3
        },
        {
          "name": "maxWidth",
          "type": "uint",
          "version": 3
        },
        {
          "name": "maxHeight",
          "type": "uint",
          "version": 3
        },
        {
          "name": "maxBytes",
          "type": "uint",
          "version": 3
        },
        {
          "name": "timestamp",
          "type": "uint",
          "version": 3
        },
        {
          "name": "percent",
          "type": "uint",
          "version": 3
        },
        {
          "name": "animated",
          "type": "bool",
          "version": 3
        },
        {
          "name": "frameCount",
          "type": "uint",
          "version": 3
        },
        {
          "name": "format",
          "type": "string",
          "version": 3
        },
        {
          "name": "encoding",
          "type": "string",
          "version": 3
        }
      ]
    },
    {
      "name": "create-video-preview-response",
      "namespace": "media",
      "compact": false,
      "flagsPosition": -1,
      "fields": [
        {
          "name": "metadata",
          "required": true,
          "type": "@media/metadata",
          "version": 3
        },
        {
          "name": "preview",
          "required": true,
          "type": "@media/file",
          "version": 3
        }
      ]
    }
  ]
}
